# Custom Error Pages

This document describes the custom error pages implemented for the AeroCapitalExchange application.

## Files Created

### 1. `app/not-found.tsx` - 404 Page
Custom 404 error page that displays when a user navigates to a non-existent route.

**Features:**
- Branded aviation-themed design with animated plane icon
- Clear "Page Not Found" messaging with helpful context
- Helpful suggestions for users (check URL, go to homepage)
- Navigation links to key pages:
  - Home page
  - Aircraft listings
  - Contact support
- Mobile responsive layout
- Consistent with site branding and color scheme

### 2. `app/error.tsx` - Global Error Boundary
Custom error boundary that catches and handles runtime errors throughout the application.

**Features:**
- Client-side error boundary (uses 'use client' directive)
- User-friendly error messaging
- Automatic error logging to console
- Different displays for development vs production:
  - **Development**: Shows full error message and stack trace
  - **Production**: Shows error digest/reference ID only
- Action buttons:
  - "Try Again" - Calls the reset function to retry the operation
  - "Go Home" - Returns to homepage
  - "Contact Support" - Link to contact page
- Mobile responsive layout
- Follows Next.js 15 error.tsx conventions

## How to Test

### Testing the 404 Page
1. Start the development server: `npm run dev`
2. Navigate to any non-existent route, e.g., `http://localhost:3000/this-does-not-exist`
3. The custom 404 page should display

### Testing the Error Boundary
1. Create a test page that throws an error:
   ```tsx
   // app/test-error/page.tsx
   export default function TestError() {
     throw new Error('This is a test error')
     return <div>This will never render</div>
   }
   ```
2. Navigate to `http://localhost:3000/test-error`
3. The custom error page should display with error details (in development mode)

## Design Decisions

### Branding Consistency
- Uses existing color palette (aviation blue primary color)
- Matches typography and spacing from the main site
- Utilizes existing UI components (Button, Card)
- Consistent with Header/Footer layout

### User Experience
- Clear, helpful messaging that guides users to next steps
- Aviation-themed copy ("flight path doesn't exist")
- Multiple navigation options to reduce frustration
- Error reference IDs for easier support troubleshooting

### Mobile Responsiveness
- Responsive grid layouts for suggestions
- Stacked button layouts on small screens
- Appropriate text sizing for different viewports
- Touch-friendly button sizes

### Accessibility
- Semantic HTML structure
- Sufficient color contrast
- Keyboard navigable buttons and links
- Clear visual hierarchy

## Next.js 15 Conventions

### not-found.tsx
- Server component (default)
- Automatically used when:
  - A route doesn't exist
  - `notFound()` function is called
  - Dynamic route returns no data

### error.tsx
- Must be a client component ('use client')
- Receives two props:
  - `error`: Error object with optional digest
  - `reset`: Function to attempt recovery
- Creates an error boundary for the route segment
- Does not catch errors in layout.tsx (use global-error.tsx for that)

## Production Considerations

1. **Error Logging**: Consider integrating with an error tracking service (Sentry, LogRocket, etc.)
   - Update the useEffect in error.tsx to send errors to your service

2. **Error Digest**: The error digest is automatically generated by Next.js and can be used to track specific errors

3. **Security**: The production error page doesn't show sensitive error details, only a reference ID

4. **Performance**: Both pages are optimized with:
   - Minimal external dependencies
   - Efficient component rendering
   - Optimized animations (CSS-based)

## Customization

To customize these pages:

1. **Colors**: Update Tailwind classes to match any brand changes
2. **Copy**: Modify text to match your brand voice
3. **Navigation**: Add/remove navigation links as needed
4. **Icons**: Replace Lucide icons with custom SVGs if desired
5. **Error Tracking**: Add your error reporting service in error.tsx useEffect

## Testing Checklist

- [ ] 404 page displays correctly on non-existent routes
- [ ] 404 page is mobile responsive
- [ ] All navigation links work correctly
- [ ] Error boundary catches runtime errors
- [ ] Error page displays correctly in development mode
- [ ] Error page displays correctly in production mode
- [ ] "Try Again" button works and resets the error
- [ ] Error logging works (check console)
- [ ] Both pages match site branding
- [ ] Both pages are accessible (keyboard navigation, screen readers)
